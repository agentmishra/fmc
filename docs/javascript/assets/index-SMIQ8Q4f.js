import"./modulepreload-polyfill-9p4a8sJU.js";import"./header-z8i37x6G.js";import"./challenges-Uq9k6NgB.js";const E=(e,t,{type:s="div",...r})=>{const n=document.createDocumentFragment();let a=0;for(let c=0;c<e;c++)for(let i=0;i<t;i++){const x=C(s,{...r,dataset:{x:c,y:i,idx:a}});n.appendChild(x),a++}return n},C=(e="div",t)=>{const s=document.createElement(e);return Object.entries(t).forEach(([r,n])=>{if(typeof n=="object"){Object.entries(n).forEach(([a,c])=>{s[r][a]=c});return}s[r]=n}),s},y=4,g=4,v=Array.from(new Array(y*g),(e,t)=>t),b=2e3,w=["🍇","🍉","🚗","🍌","🏠","🥭","🍎","🐯","🍒","🍓","🐵","🥝","🍿","🏀","🎱","🐻","🍜","🍢","🎓","🍤","🦀","🍦","🍩","🎂","🍫","🍭","🍼","🪔","🍺","🐱","🐶"];let o=[],f=0,m=[],h=!1,p;const d=document.querySelector(".game-front"),l=document.querySelector(".game-back"),L=document.querySelector("output"),T=document.querySelector(".restart"),j=(e,t,s)=>{const r=Array.from(new Array(e*t/2),()=>s[Math.floor(Math.random()*s.length)]),n=r.concat(r),a=[],c=n.length;for(let i=0;i<c;i++)a.push(...n.splice(Math.floor(Math.random()*n.length),1));return a},k=(e,t)=>{e.forEach(s=>{d.children[s].classList.add(t),l.children[s].classList.add(t)})},u=(e,t)=>{e.forEach(s=>{d.children[s].classList.remove(t),l.children[s].classList.remove(t)})},S=async(e=!1)=>{h||(m=[],o=[],f=0,h=!0,L.textContent=f,e||(d.classList.add("reset"),l.classList.add("reset"),u(v,"active"),u(v,"match"),await new Promise(t=>setTimeout(t,b/2))),m=j(y,g,w),l.childNodes.forEach((t,s)=>{t.textContent=m[s]}),d.classList.remove("reset"),l.classList.remove("reset"),h=!1)};d.appendChild(E(y,g,{type:"button",className:"tile"}));l.appendChild(E(y,g,{type:"button",className:"tile back-tile"}));d.addEventListener("click",e=>{const t=e.target.dataset.idx;t==null||h||e.target.classList.contains("match")||(f++,o.length===2&&(p&&clearTimeout(p),u(o,"active"),o=[]),o.push(t),o.length===2&&(m[o[0]]===m[o[1]]&&(u(o,"active"),k(o,"match")),p=setTimeout(()=>{u(o,"active"),o=[]},b)),e.target.classList.add("active"),l.children[t].classList.add("active"),L.textContent=f)});T.addEventListener("click",()=>S());S(!0);
